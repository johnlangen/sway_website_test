(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7993],{2716:(e,t,s)=>{Promise.resolve().then(s.bind(s,5735))},5735:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>E});var a=s(5155),r=s(2115);let i=[{id:"massage",title:"Massage",subtitle:"Relaxation, recovery, or targeted pain relief."},{id:"facial",title:"Facial",subtitle:"Skin reset, glow, and hydration."},{id:"remedy",title:"Remedy Room",subtitle:"Sauna, cold plunge, and recovery tools."},{id:"aescape",title:"Aescape",subtitle:"Guided robot massage experience."}],l=[{id:"massage_relax",category:"massage",title:"Relaxation Massage",desc:"Calming, full-body massage designed to help you unwind.",basePriceGuest:135,allowedTiers:["guest","good","better","best"]},{id:"massage_recovery",category:"massage",title:"Deep Recovery Massage",desc:"Focused work for training soreness, travel, or tightness.",basePriceGuest:155,allowedTiers:["guest","better","best"]},{id:"massage_pain",category:"massage",title:"Targeted Pain Relief",desc:"Precision treatment for chronic or acute problem areas.",basePriceGuest:165,allowedTiers:["guest","best"]},{id:"facial_signature",category:"facial",title:"Signature Facial",desc:"Customized facial focused on balance, clarity, and glow.",basePriceGuest:150,allowedTiers:["guest","good","better","best"]},{id:"facial_glow",category:"facial",title:"Glow + Hydrate Facial",desc:"Deep hydration + brightening for instant radiance.",basePriceGuest:175,allowedTiers:["guest","better","best"]},{id:"remedy_room",category:"remedy",title:"Remedy Room Session",desc:"Sauna + cold plunge + recovery tools. Reset your system.",basePriceGuest:95,allowedTiers:["guest","good","better","best"]},{id:"aescape_therapy",category:"aescape",title:"Aescape Robot Massage",desc:"Precision robot massage — customizable and data-driven.",basePriceGuest:165,allowedTiers:["guest","better","best"]}],n=[{name:"No preference"},{name:"Sarah",tag:"Deep tissue"},{name:"Mia",tag:"Relaxation"},{name:"Jordan",tag:"Recovery"},{name:"Ava",tag:"Facials"},{name:"Ethan",tag:"Pain relief"}],d=[{dateLabel:"Tomorrow \xb7 Thu, Jan 8",slots:["3:30 PM","4:30 PM","5:45 PM"]},{dateLabel:"Fri, Jan 9",slots:["10:15 AM","11:45 AM","2:00 PM","4:15 PM"]}],o=[{id:"cbd",title:"CBD",blurb:"Extra recovery + calming support.",priceGuest:30,categories:["massage"],allowedMemberTiers:["better","best"]},{id:"aroma",title:"Aromatherapy",blurb:"Nervous system downshift.",priceGuest:15,categories:["massage","facial"],allowedMemberTiers:["good","better","best"]},{id:"hot_stones",title:"Hot Stones",blurb:"Deep warmth to melt tension.",priceGuest:25,categories:["massage"],allowedMemberTiers:["best"]},{id:"scalp",title:"Scalp Ritual",blurb:"Jaw/temples/scalp release.",priceGuest:20,categories:["massage","facial"],allowedMemberTiers:["better","best"]},{id:"cupping",title:"Cupping",blurb:"Targeted mobility + muscle decompression.",priceGuest:30,categories:["massage"],allowedMemberTiers:["best"]}];function c(e){return"best"===e?{maxTimeMinutes:60,maxAddOns:2,showTime:!0,label:"Best"}:"better"===e?{maxTimeMinutes:30,maxAddOns:1,showTime:!0,label:"Better"}:"good"===e?{maxTimeMinutes:0,maxAddOns:1,showTime:!1,label:"Good"}:{maxTimeMinutes:60,maxAddOns:3,showTime:!0,label:"Guest"}}function m(e){return"good"===e||"better"===e||"best"===e}function u(e){return"$".concat(e.toFixed(0))}function b(e){return e.filter(e=>"add_on"===e.type).length}function x(e){return e.find(e=>"time_extension"===e.type)}function h(e){return e.filter(e=>"add_on"===e.type).map(e=>e.id)}let p=["RETURNING","OAUTH","CATEGORY","SERVICE","BOOSTS","THERAPIST","TIME","SIGNUP","CONFIRM","BOOKED"],f={step:"RETURNING",draft:{boosts:[]},error:null};function g(e,t){var s,a,r;switch(t.type){case"CLEAR_ERROR":return{...e,error:null};case"SET_RETURNING":return t.returning?{step:"OAUTH",draft:{boosts:[],returning:!0},error:null}:{step:"CATEGORY",draft:{boosts:[],returning:!1,hasAccount:!1,tier:"guest"},error:null};case"FAKE_OAUTH_RESULT":return{step:"CATEGORY",draft:{boosts:[],returning:!0,hasAccount:t.hasAccount,tier:t.tier},error:null};case"SET_CATEGORY":return{...e,step:"SERVICE",draft:{...e.draft,category:t.category,productId:void 0,boosts:[],therapist:void 0,time:void 0},error:null};case"SET_PRODUCT":return{...e,step:"BOOSTS",draft:{...e.draft,productId:t.productId,boosts:[],therapist:void 0,time:void 0},error:null};case"TOGGLE_TIME_BOOST":{let a=null!==(s=e.draft.tier)&&void 0!==s?s:"guest",r=c(a);if(m(a)){if(!r.showTime)return{...e,error:"Your membership tier doesn’t include time extensions."};if(t.minutes>r.maxTimeMinutes)return{...e,error:"Your tier allows up to +".concat(r.maxTimeMinutes," minutes.")}}let i=x(e.draft.boosts),l=(null==i?void 0:i.minutes)===t.minutes,n=[...e.draft.boosts.filter(e=>"time_extension"!==e.type),...l?[]:[{type:"time_extension",minutes:t.minutes}]];return{...e,draft:{...e.draft,boosts:n},error:null}}case"TOGGLE_ADDON_ID":{let s=null!==(a=e.draft.tier)&&void 0!==a?a:"guest",r=e.draft.category,i=o.find(e=>e.id===t.id);if(!i)return e;if(!r||!i.categories.includes(r))return{...e,error:"That enhancement isn’t available for this service type."};if(m(s)){let a=c(s);if(!i.allowedMemberTiers.includes(s))return{...e,error:"That enhancement isn’t included for your membership tier."};let r=b(e.draft.boosts);if(!e.draft.boosts.some(e=>"add_on"===e.type&&e.id===t.id)&&r>=a.maxAddOns)return{...e,error:"Your tier allows up to ".concat(a.maxAddOns," enhancement").concat(1===a.maxAddOns?"":"s",".")}}else{let s=b(e.draft.boosts);if(!e.draft.boosts.some(e=>"add_on"===e.type&&e.id===t.id)&&s>=3)return{...e,error:"You can add up to 3 enhancements in this prototype."}}let l=e.draft.boosts.some(e=>"add_on"===e.type&&e.id===t.id)?e.draft.boosts.filter(e=>!("add_on"===e.type&&e.id===t.id)):[...e.draft.boosts,{type:"add_on",id:t.id}];return{...e,draft:{...e.draft,boosts:l},error:null}}case"SET_THERAPIST":return{...e,step:"TIME",draft:{...e.draft,therapist:t.therapist,time:void 0},error:null};case"SET_TIME":{let s=!e.draft.returning&&"guest"===e.draft.tier&&!e.draft.hasAccount;return{...e,step:s?"SIGNUP":"CONFIRM",draft:{...e.draft,time:{dateLabel:t.dateLabel,timeLabel:t.timeLabel}},error:null}}case"SET_GUEST_INFO":return{...e,draft:{...e.draft,guestInfo:t.guestInfo},error:null};case"NEXT":return{...e,step:t.step,error:null};case"BACK":return{...e,step:"OAUTH"===(r=e.step)||"CATEGORY"===r?"RETURNING":"SERVICE"===r?"CATEGORY":"BOOSTS"===r?"SERVICE":"THERAPIST"===r?"BOOSTS":"TIME"===r?"THERAPIST":"SIGNUP"===r?"TIME":"CONFIRM"===r?e.draft.returning||"guest"!==e.draft.tier||e.draft.hasAccount?"TIME":"SIGNUP":"RETURNING",error:null};case"CONFIRM":return{...e,step:"BOOKED",error:null};default:return e}}function v(e){let{children:t}=e;return(0,a.jsx)("div",{className:"min-h-screen bg-[#F7F4E9] text-black font-vance",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 pt-24 pb-16",children:t})})}function j(e){let{step:t,onBack:s}=e,r=Math.max(8,Math.min(100,(p.indexOf(t)+1)/p.length*100));return(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl md:text-3xl font-semibold",children:"Book at Sway"}),(0,a.jsx)("div",{className:"text-sm text-black/60 mt-1",children:"A structured, premium booking flow (prototype)"})]}),s?(0,a.jsx)("button",{onClick:s,className:"rounded-full border border-black/10 bg-white/70 px-4 py-2 text-sm hover:bg-white transition",children:"Back"}):null]}),(0,a.jsx)("div",{className:"mt-4 h-2 rounded-full bg-black/10 overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-[#113D33]",style:{width:"".concat(r,"%")}})})]})}function y(e){let{title:t,subtitle:s,children:r,rightTag:i}=e;return(0,a.jsxs)("div",{className:"rounded-3xl border border-black/10 bg-white/75 backdrop-blur p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-semibold",children:t}),s?(0,a.jsx)("div",{className:"text-sm text-black/60 mt-1",children:s}):null]}),i?(0,a.jsx)("div",{className:"text-xs px-3 py-1 rounded-full bg-black/5 border border-black/10",children:i}):null]}),(0,a.jsx)("div",{className:"mt-5",children:r})]})}function N(e){let{children:t}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t})}function T(e){let{children:t,onClick:s,variant:r="primary",active:i}=e;return(0,a.jsx)("button",{onClick:s,className:"".concat("rounded-full px-5 py-2.5 text-sm font-medium border transition w-fit"," ").concat("primary"===r?i?"bg-[#113D33] text-white border-[#113D33]":"bg-[#113D33] text-white border-[#113D33] hover:opacity-90":i?"bg-black text-white border-black":"bg-white/80 border-black/10 hover:bg-white"),children:t})}function w(e){let{title:t,subtitle:s,meta:r,onSelect:i,selected:l}=e;return(0,a.jsxs)("button",{onClick:i,className:"text-left rounded-3xl border p-5 transition shadow-sm ".concat(l?"border-[#113D33] bg-white":"border-black/10 bg-white/70 hover:bg-white"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-semibold",children:t}),(0,a.jsx)("div",{className:"text-sm text-black/60 mt-1",children:s})]}),r?(0,a.jsx)("div",{className:"text-sm text-black/70",children:r}):null]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs border ".concat(l?"border-[#113D33] text-[#113D33]":"border-black/10 text-black/60"),children:l?"Selected":"Select"})})]})}function k(e){let{text:t,onClose:s}=e;return(0,a.jsxs)("div",{className:"rounded-2xl border border-black/10 bg-white/80 p-4 flex items-start justify-between gap-3",children:[(0,a.jsx)("div",{className:"text-sm text-black/80",children:t}),(0,a.jsx)("button",{onClick:s,className:"text-xs rounded-full border border-black/10 px-3 py-1 hover:bg-black/5",children:"OK"})]})}function E(){var e,t,s,b,p,E;let[I,A]=(0,r.useReducer)(g,f),C=null!==(p=I.draft.tier)&&void 0!==p?p:"guest",_=c(C),M=m(C),G=(0,r.useMemo)(()=>l.find(e=>e.id===I.draft.productId),[I.draft.productId]),P=(0,r.useMemo)(()=>(function(e){let t=l.find(t=>t.id===e.productId);if(!t)return null;let s=t.basePriceGuest,a=x(e.boosts);for(let t of(a&&(s+=30===a.minutes?35:60),h(e.boosts))){let e=o.find(e=>e.id===t);e&&(s+=e.priceGuest)}return s})(I.draft),[I.draft]),U=(0,r.useMemo)(()=>{let e=I.draft.category;return e?l.filter(t=>t.category===e&&t.allowedTiers.includes(C)):[]},[I.draft.category,C]),D=(0,r.useMemo)(()=>{let e=I.draft.category;return e?o.filter(t=>t.categories.includes(e)):[]},[I.draft.category]),L=x(I.draft.boosts),F=h(I.draft.boosts),B="RETURNING"===I.step||"BOOKED"===I.step?void 0:()=>A({type:"BACK"});return(0,a.jsxs)(v,{children:[(0,a.jsx)(j,{step:I.step,onBack:B}),I.error?(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(k,{text:I.error,onClose:()=>A({type:"CLEAR_ERROR"})})}):null,"RETURNING"===I.step?(0,a.jsxs)(y,{title:"Have you been to Sway or Spavia before?",subtitle:"Choose the option that’s most accurate.",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)(T,{onClick:()=>A({type:"SET_RETURNING",returning:!0}),children:"Yes, I have"}),(0,a.jsx)(T,{variant:"secondary",onClick:()=>A({type:"SET_RETURNING",returning:!1}),children:"No, I’m new"})]}),(0,a.jsx)("div",{className:"mt-6 text-xs text-black/55",children:"This is a prototype — sign-in and account creation are simulated."})]}):null,"OAUTH"===I.step?(0,a.jsxs)(y,{title:"Signing you in",subtitle:"(Simulated — this will be Mindbody OAuth)",rightTag:"3 options",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,a.jsx)(T,{onClick:()=>A({type:"FAKE_OAUTH_RESULT",hasAccount:!0,tier:"best"}),children:"Ultimate Member (Best)"}),(0,a.jsx)(T,{variant:"secondary",onClick:()=>A({type:"FAKE_OAUTH_RESULT",hasAccount:!0,tier:"better"}),children:"Member (Better)"}),(0,a.jsx)(T,{variant:"secondary",onClick:()=>A({type:"FAKE_OAUTH_RESULT",hasAccount:!0,tier:"guest"}),children:"Account, No Membership"})]}),(0,a.jsx)("div",{className:"mt-5 text-sm text-black/70",children:"If you choose a membership tier, pricing will be hidden and you’ll see included allowances instead."})]}):null,"CATEGORY"===I.step?(0,a.jsx)(y,{title:"What would you like to book?",subtitle:M?"Member view \xb7 Tier: ".concat(_.label):"Guest view \xb7 Pricing shown",rightTag:M?"No pricing":"Pricing shown",children:(0,a.jsx)(N,{children:i.map(e=>(0,a.jsx)(w,{title:e.title,subtitle:e.subtitle,selected:I.draft.category===e.id,onSelect:()=>A({type:"SET_CATEGORY",category:e.id})},e.id))})}):null,"SERVICE"===I.step?(0,a.jsx)(y,{title:I.draft.category?"Choose your ".concat("aescape"===I.draft.category?"Aescape experience":I.draft.category):"Choose your service",subtitle:M?"Included options based on your tier.":"Choose what sounds best — you’ll confirm everything before booking.",rightTag:I.draft.category?I.draft.category.toUpperCase():void 0,children:(0,a.jsxs)("div",{className:"space-y-4",children:[U.length?(0,a.jsx)(N,{children:U.map(e=>(0,a.jsx)(w,{title:e.title,subtitle:e.desc,selected:I.draft.productId===e.id,meta:M?(0,a.jsx)("span",{className:"text-xs rounded-full px-2 py-1 border border-black/10 bg-black/5",children:"Included"}):(0,a.jsx)("span",{className:"text-sm font-semibold",children:u(e.basePriceGuest)}),onSelect:()=>A({type:"SET_PRODUCT",productId:e.id})},e.id))}):(0,a.jsx)("div",{className:"text-sm text-black/70",children:"No services configured for this category and tier yet."}),(0,a.jsx)("div",{className:"pt-2 flex items-center justify-between gap-3",children:(0,a.jsx)("div",{className:"text-xs text-black/55",children:"Tip: You can keep this list curated (not “alphabetized SKUs”) even when wired to Mindbody."})})]})}):null,"BOOSTS"===I.step?(0,a.jsx)(y,{title:"Enhance your session",subtitle:M?"Included allowances \xb7 ".concat(_.label," tier"):"Optional enhancements — add what you want.",rightTag:M?"Allowances":"Prices",children:(0,a.jsxs)("div",{className:"space-y-6",children:[M?(0,a.jsxs)("div",{className:"rounded-2xl border border-black/10 bg-white/80 p-4",children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Your included options"}),(0,a.jsx)("div",{className:"text-sm text-black/70 mt-1",children:"best"===C?(0,a.jsxs)(a.Fragment,{children:["Choose up to ",(0,a.jsx)("span",{className:"font-semibold",children:"+60 minutes"})," and up to"," ",(0,a.jsx)("span",{className:"font-semibold",children:"2 enhancements"}),"."]}):"better"===C?(0,a.jsxs)(a.Fragment,{children:["Choose up to ",(0,a.jsx)("span",{className:"font-semibold",children:"+30 minutes"})," and"," ",(0,a.jsx)("span",{className:"font-semibold",children:"1 enhancement"}),"."]}):(0,a.jsxs)(a.Fragment,{children:["No time extensions included. Choose"," ",(0,a.jsx)("span",{className:"font-semibold",children:"1 enhancement"}),"."]})})]}):null,(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-end justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Add time"}),(0,a.jsx)("div",{className:"text-xs text-black/55 mt-1",children:M?_.showTime?"Included up to +".concat(_.maxTimeMinutes," minutes."):"Not included for your tier.":"Adds time to your session (priced)."})]}),M?(0,a.jsxs)("div",{className:"text-xs text-black/60",children:["Selected:"," ",(0,a.jsx)("span",{className:"font-semibold",children:L?"+".concat(L.minutes," min"):"None"})]}):(0,a.jsx)("div",{className:"text-xs text-black/60",children:L?"+".concat(L.minutes," min selected"):"Optional"})]}),(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,a.jsxs)(T,{variant:"secondary",active:(null==L?void 0:L.minutes)===30,onClick:()=>A({type:"TOGGLE_TIME_BOOST",minutes:30}),children:["+30 minutes ",M?"":"\xb7 +$35"]}),(0,a.jsxs)(T,{variant:"secondary",active:(null==L?void 0:L.minutes)===60,onClick:()=>A({type:"TOGGLE_TIME_BOOST",minutes:60}),children:["+60 minutes ",M?"":"\xb7 +$60"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-end justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Enhancements"}),(0,a.jsx)("div",{className:"text-xs text-black/55 mt-1",children:M?"Choose up to ".concat(_.maxAddOns," enhancement").concat(1===_.maxAddOns?"":"s"," (tier-limited)."):"Pick as many as you want (capped at 3 in this prototype)."})]}),(0,a.jsxs)("div",{className:"text-xs text-black/60",children:["Selected:"," ",(0,a.jsx)("span",{className:"font-semibold",children:F.length?F.length:0})]})]}),(0,a.jsx)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:D.map(e=>{let t=F.includes(e.id),s=M&&!e.allowedMemberTiers.includes(C);return(0,a.jsxs)("button",{onClick:()=>A({type:"TOGGLE_ADDON_ID",id:e.id}),className:"rounded-2xl border p-4 text-left transition ".concat(t?"border-[#113D33] bg-white":"border-black/10 bg-white/70 hover:bg-white"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-black/60 mt-1",children:e.blurb})]}),(0,a.jsx)("div",{className:"text-right",children:M?s?(0,a.jsx)("div",{className:"text-xs px-2 py-1 rounded-full border border-black/10 bg-black/5 text-black/60",children:"Not in tier"}):(0,a.jsx)("div",{className:"text-xs px-2 py-1 rounded-full border border-black/10 bg-black/5 text-black/70",children:"Included"}):(0,a.jsx)("div",{className:"text-sm font-semibold",children:u(e.priceGuest)})})]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs border ".concat(t?"border-[#113D33] text-[#113D33]":"border-black/10 text-black/60"),children:t?"Selected":"Select"})})]},e.id)})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3 pt-2",children:[(0,a.jsx)("div",{className:"text-xs text-black/55",children:M?"No pricing shown — allowances apply. You’ll confirm everything next.":"You’ll review totals on the confirmation screen."}),(0,a.jsx)(T,{onClick:()=>A({type:"NEXT",step:"THERAPIST"}),children:"Next"})]})]})}):null,"THERAPIST"===I.step?(0,a.jsxs)(y,{title:"Any therapist preference?",subtitle:"Pick a therapist or choose no preference.",rightTag:"Optional",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.map(e=>{var t,s;let r=(null===(t=I.draft.therapist)||void 0===t?void 0:t.type)==="no_preference"&&"No preference"===e.name||(null===(s=I.draft.therapist)||void 0===s?void 0:s.type)==="name"&&I.draft.therapist.value===e.name;return(0,a.jsx)("button",{onClick:()=>A({type:"SET_THERAPIST",therapist:"No preference"===e.name?{type:"no_preference"}:{type:"name",value:e.name}}),className:"rounded-2xl border p-4 text-left transition ".concat(r?"border-[#113D33] bg-white":"border-black/10 bg-white/70 hover:bg-white"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:e.name}),e.tag?(0,a.jsx)("div",{className:"text-xs text-black/60 mt-1",children:e.tag}):null]}),(0,a.jsx)("div",{className:"text-xs text-black/60",children:r?"Selected":""})]})},e.name)})}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"text-xs text-black/55 mb-2",children:"Or choose a gender preference"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(T,{variant:"secondary",active:(null===(e=I.draft.therapist)||void 0===e?void 0:e.type)==="gender"&&"female"===I.draft.therapist.value,onClick:()=>A({type:"SET_THERAPIST",therapist:{type:"gender",value:"female"}}),children:"Female"}),(0,a.jsx)(T,{variant:"secondary",active:(null===(t=I.draft.therapist)||void 0===t?void 0:t.type)==="gender"&&"male"===I.draft.therapist.value,onClick:()=>A({type:"SET_THERAPIST",therapist:{type:"gender",value:"male"}}),children:"Male"})]})]})]}):null,"TIME"===I.step?(0,a.jsx)(y,{title:"Choose a date and time",subtitle:"Two dates shown for now (mock availability).",rightTag:"Live later",children:(0,a.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,a.jsxs)("div",{className:"rounded-2xl border border-black/10 bg-white/70 p-4",children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:e.dateLabel}),(0,a.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:e.slots.map(t=>{var s,r;let i=(null===(s=I.draft.time)||void 0===s?void 0:s.dateLabel)===e.dateLabel&&(null===(r=I.draft.time)||void 0===r?void 0:r.timeLabel)===t;return(0,a.jsx)(T,{variant:"secondary",active:i,onClick:()=>A({type:"SET_TIME",dateLabel:e.dateLabel,timeLabel:t}),children:t},t)})})]},e.dateLabel))})}):null,"SIGNUP"===I.step?(0,a.jsx)(y,{title:"Almost done",subtitle:"We just need your details to finalize the booking.",rightTag:"Guest",children:(0,a.jsx)(R,{onSubmit:e=>{A({type:"SET_GUEST_INFO",guestInfo:e}),A({type:"NEXT",step:"CONFIRM"})}})}):null,"CONFIRM"===I.step?(0,a.jsxs)(y,{title:"Review your appointment",subtitle:"This step is non-skippable.",rightTag:"Confirm",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-black/10 bg-white/80 p-5",children:[(0,a.jsxs)("div",{className:"space-y-2 text-sm text-black/80",children:[(0,a.jsx)(S,{label:"Type",value:I.draft.category?O(I.draft.category):"—"}),(0,a.jsx)(S,{label:"Service",value:null!==(E=null==G?void 0:G.title)&&void 0!==E?E:"—"}),(0,a.jsx)(S,{label:"Enhancements",value:I.draft.boosts.length?[L?"+".concat(L.minutes," min"):null,...F.map(e=>{var t,s;return null!==(s=null===(t=o.find(t=>t.id===e))||void 0===t?void 0:t.title)&&void 0!==s?s:e})].filter(Boolean).join(", "):"None"}),(0,a.jsx)(S,{label:"Therapist",value:(null===(s=I.draft.therapist)||void 0===s?void 0:s.type)==="name"?I.draft.therapist.value:(null===(b=I.draft.therapist)||void 0===b?void 0:b.type)==="gender"?"Preference: ".concat(O(I.draft.therapist.value)):"No preference"}),(0,a.jsx)(S,{label:"When",value:I.draft.time?"".concat(I.draft.time.dateLabel," \xb7 ").concat(I.draft.time.timeLabel):"—"}),(0,a.jsx)("div",{className:"pt-2 border-t border-black/10 mt-3"}),(0,a.jsx)(S,{label:"Total",value:M?"Included (membership allowances)":null===P?"—":u(P)})]}),M?(0,a.jsx)("div",{className:"mt-3 text-xs text-black/55",children:"Member note: pricing is hidden in this prototype; booking will later validate allowances and eligibility via API."}):(0,a.jsx)("div",{className:"mt-3 text-xs text-black/55",children:"Guest note: prices are mocked — later these will be pulled from Mindbody."})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-3",children:[(0,a.jsx)("div",{className:"text-xs text-black/55",children:"Times are volatile — we’ll re-check availability before finalizing."}),(0,a.jsx)(T,{onClick:()=>A({type:"CONFIRM"}),children:"Confirm booking"})]})]}):null,"BOOKED"===I.step?(0,a.jsx)(y,{title:"You’re booked",subtitle:"(Prototype) Next: real Mindbody write + confirmation screen.",children:(0,a.jsxs)("div",{className:"rounded-2xl border border-black/10 bg-white/80 p-5",children:[(0,a.jsxs)("div",{className:"text-sm text-black/80",children:["Success. In production, this is where you’ll show:",(0,a.jsxs)("ul",{className:"list-disc ml-5 mt-2 text-sm text-black/70",children:[(0,a.jsx)("li",{children:"Confirmation number"}),(0,a.jsx)("li",{children:"Email/SMS confirmation"}),(0,a.jsx)("li",{children:"Add to calendar"}),(0,a.jsx)("li",{children:"Reschedule / cancel links"})]})]}),(0,a.jsxs)("div",{className:"mt-5 flex gap-2 flex-wrap",children:[(0,a.jsx)(T,{variant:"secondary",onClick:()=>window.location.reload(),children:"Start over"}),(0,a.jsx)("a",{className:"rounded-full px-5 py-2.5 text-sm font-medium border bg-white/80 border-black/10 hover:bg-white transition",href:"https://clients.mindbodyonline.com/consumerbooking?studioid=5739770&stype=-9",target:"_blank",rel:"noreferrer",children:"Open classic booking"})]})]})}):null]})}function S(e){let{label:t,value:s}=e;return(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsx)("div",{className:"text-black/60",children:t}),(0,a.jsx)("div",{className:"text-right font-medium text-black",children:s})]})}function O(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function R(e){let{onSubmit:t}=e;return(0,a.jsxs)("form",{className:"space-y-3",onSubmit:e=>{e.preventDefault();let s=new FormData(e.currentTarget),a=String(s.get("firstName")||"").trim(),r=String(s.get("lastName")||"").trim(),i=String(s.get("email")||"").trim(),l=String(s.get("phone")||"").trim();a&&r&&i&&l&&t({firstName:a,lastName:r,email:i,phone:l})},children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,a.jsx)(I,{name:"firstName",label:"First name",placeholder:"John"}),(0,a.jsx)(I,{name:"lastName",label:"Last name",placeholder:"Langenderfer"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,a.jsx)(I,{name:"email",label:"Email",placeholder:"you@email.com"}),(0,a.jsx)(I,{name:"phone",label:"Phone",placeholder:"(555) 555-5555"})]}),(0,a.jsxs)("div",{className:"pt-2 flex items-center justify-between gap-3",children:[(0,a.jsx)("div",{className:"text-xs text-black/55",children:"We’ll only “create an account” after you confirm booking (later via API)."}),(0,a.jsx)("button",{className:"rounded-full px-5 py-2.5 text-sm font-medium border bg-[#113D33] text-white border-[#113D33] hover:opacity-90 transition",children:"Continue"})]})]})}function I(e){let{name:t,label:s,placeholder:r}=e;return(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("div",{className:"text-xs text-black/60 mb-1",children:s}),(0,a.jsx)("input",{name:t,placeholder:r,className:"w-full rounded-2xl border border-black/10 bg-white/80 px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-black/10"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1517,7358],()=>t(2716)),_N_E=e.O()}]);